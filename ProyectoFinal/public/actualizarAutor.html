
<html>

    <head>
      <link rel="stylesheet" href="headerAdmin.css">
    </head>


<body onload="cargarTabla()">
    

  <body class="body">
    <div class="container">

        <!--logo y nombre de empresa (izquirda arriba)-->
        <div class="busqueda">

            <img class="img_logo" src="img/logoNeo.png">

        </div>
        <div class="logo titulo">

            <h1>El bazar de <span> las Sorpresas</span> </h1>
        </div>



        <!--busqueda, carrito, menu (derecha arriba)-->
        <div class="links">
            <p>
                <a href="home.html">Bienvenido al bazar de las sorpresas</a>
                <i class="arrow right"></i>
                <a href="registro.html">Registrarse</a>
                <i class="arrow right"></i>
                <a href="inicioSecion.html">Iniciar sesión</a>
            </p>
            
            <div >
                


                <!--BUSQUEDA-->

                
                <input class="barraBusqueda" type="text" id="resultadoBusqueda" placeholder="Digite lo que desea buscar.....................">  
                <div>
                    <button class="button" id="busquedaAutor" type="button" onclick="location.href = 'resultadoDeBusquedaAutor.html?nombreAutor='+getElementById('resultadoBusqueda').value">Buscar por autor</button>

                    <button class="button" id="busqueda" type="button" onclick="location.href = 'resultadoDeBusqueda.html?nombre='+getElementById('resultadoBusqueda').value">Buscar por nombre</button>

                    <button class="button" id="busquedaGenero" type="button" onclick="location.href = 'resultadoDeBusquedaGenero.html?genero='+getElementById('resultadoBusqueda').value">Buscar por genero</button>
                
                    <a href="carritoCompras.html">
                        <svg class="iconos" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-shopping-cart-plus carrito" width="35" height="35" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <circle cx="6" cy="19" r="2" />
                            <circle cx="17" cy="19" r="2" />
                            <path d="M17 17h-11v-14h-2" />
                            <path d="M6 5l6.005 .429m7.138 6.573l-.143 .998h-13" />
                            <path d="M15 6h6m-3 -3v6" />
                        </svg>
                    </a>
    
                    <a href="editarPerfil.html">
                        <svg class="iconos" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="35" height="35" viewBox="0 0 24 24" stroke-width="1.5" stroke="#2c3e50" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                            <circle cx="12" cy="7" r="4" />
                            <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
                          </svg>
                    </a>
                
                </div>
                




                

            </div>

            <div class="menu">
                <p>
                    <a href="catalogolibros.html">Catálogo libros</a>
                    <a href="landingPageProducto.html">Nuestra empresa</a>
                    <a href="landingPageEquipo.html">Neon Team</a>
                    
                </p>
            </div>


        </div>


    </div>
    <div class="linea_encabezado"></div>

    <!--END HEADER-->

    <form class="formularioIncertar"> 
        <input type="text" id="nombre" placeholder="Nombre" />
        <input type="text" id="librosPublicados" placeholder="librosPublicados" />
        <input type="text" id="premiosGanados" placeholder="premiosGanados" />
        <input type="text" id="paisNacimiento" placeholder="paisNacimiento" />
        <input type="text" id="fechaNacimiento" placeholder="fechaNacimiento" />
        <input type="text" id="generoDelAutor" placeholder="generoDelAutor" />
        <input type="text" id="fechaDeDefuncion" placeholder="fechaDeDefuncion" />
        

        <button type="button"  onclick="actualizarAutor()">Actualizar Libro</button>
        </form>
    
    <script>


function actualizarAutor(){
    var datos = {
            nombre: document.getElementById("nombre").value,
            librosPublicados: document.getElementById("librosPublicados").value,
            premiosGanados: document.getElementById("premiosGanados").value,
            paisNacimiento: document.getElementById("paisNacimiento").value,
            fechaNacimiento: document.getElementById("fechaNacimiento").value,
            generoDelAutor: document.getElementById("generoDelAutor").value,
            fechaDeDefuncion: document.getElementById("fechaDeDefuncion").value
          
            }


            

            fetch("http://localhost:8080/autores/actualizar", {
            method: 'POST',
            body: JSON.stringify(datos),
            headers: {'Content-Type': 'application/json'}
            }).then(
                function(response){
                return response.json();
                }
            ).then(

                function(json){

                    alert("el libro ha sido actualizado")
                    
            }
        )
     }




function cargarTabla() {
        var direccion = window.location.search;
        var variables = new URLSearchParams(direccion);
        var id = variables.get("id");

        var datos = {
          idUsuario: id
        }
        
        fetch("http://localhost:8080/autores/buscar", {
          method: 'POST',
          body: JSON.stringify(datos),
          headers: {'Content-Type': 'application/json'}
        })
          .then(
            function(response){
              return response.json();
            }
          )
          .then (
            function(json) {

              document.getElementById("nombre").value = json.nombre;
              document.getElementById("librosPublicados").value = json.librosPublicados;
              document.getElementById("premiosGanados").value = json.premiosGanados;
              document.getElementById("paisNacimiento").value = json.paisNacimiento;
              document.getElementById("fechaNacimiento").value = json.fechaNacimiento;
              document.getElementById("generoDelAutor").value = json.generoDelAutor;
              document.getElementById("fechaDeDefuncion").value = json.fechaDeDefuncion;
            
    
            }
          ) 
      }
    </script>


</body>

  


</html>

